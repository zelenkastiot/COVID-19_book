---
redirect_from:
  - "/05-realworlddata/subsection/5-2"
title: |-
  Проширен SIR модел
pagenum: 15
prev_page:
  url: /05_realWorldData/subsection/5_1.html
next_page:
  url: /05_realWorldData/subsection/5_3.html
suffix: .md
search: t cdot c frac p r beds rightarrow align d b end s gamma beta x dt max min n delta e begin covid cb sir center img src images screenshot png style width rho alpha com probability text zelenkastiot github io book timedependent subsection html bc start k br f data fitting fatality rate critical href stattrek rules aspx theruleofsubtractionfollows eventawillnotoccur basedontheruleof tag rule subtraction bar www thelancet article fulltext arxiv org abs triage age ds de di dc dr dd logistic xx inflection point

comment: "***PROGRAMMATICALLY GENERATED, DO NOT EDIT. SEE ORIGINAL FILES IN /content***"
---

    <main class="jupyter-page">
    <div id="page-info"><div id="page-title">Проширен SIR модел</div>
</div>
    <div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr>
<h2 id="SIR-&#1079;&#1072;-data-fitting">SIR &#1079;&#1072; data-fitting<a class="anchor-link" href="#SIR-&#1079;&#1072;-data-fitting"> </a></h2><p>Градиме модел изведен од последните неколку тетратки: Луѓето од популацијата се прво <strong>Подлежни</strong>- можат да го фатат вирусот (веројатност $\frac{S}{N}$) и постануваат <strong>Изложени</strong>. Тие не можат да го шират сеуште вирусот. По неколку денови (поточно $\frac{1}{\delta}$) тие транзитираат во состојба <strong>Инфицирани</strong> и го шират вирусот. Додека се заразени можат или да транзитираат во состојба <strong>Починати</strong> (по $\frac{1}{\rho}$ денови со веројатност $\alpha$) или да транзитираат во состојба <strong>Оздравени</strong> (по $\frac{1}{\gamma}$ денови):</p>
<p align="center">
<img src="images\Screenshot_6.png" style="width:90%;">
</p><p>Да направиме едно мало навраќање, овие се променливите кои се дел од равенките:</p>
<ul>
<li>$N$<strong>:</strong> вкупна популација </li>
<li>$S(t)$<strong>:</strong> број на подлежни луѓе на ден $t$</li>
<li>$E(t)$<strong>:</strong> број на изложени луѓе на ден $t$</li>
<li>$I(t)$<strong>:</strong> број на инфицирани луѓе на ден $t$</li>
<li>$R(t)$<strong>:</strong> број на оздравени луѓе на ден $t$  </li>
<li>$D(t)$<strong>:</strong> број на починати луѓе на ден $t$</li>
<li>$\beta$<strong>:</strong> очекуваниот број на луѓе на кои заразена личност ја пренесува болеста</li>
<li>$D$<strong>:</strong> бројот на денови што личноста ја чува во себе и може да ја шири болеста</li>
<li>$\gamma$<strong>:</strong> дел од заразени личности што заздравуваат на ден ($\gamma= \frac{1}{D}$)</li>
<li>$R_{0}$<strong>:</strong> вкупниот број на луѓе кој една личност заразува ($R_{0}=\beta \cdot D$)</li>
<li>$\delta$<strong>:</strong> времетраење на инкубациски период </li>
<li>$\alpha$<strong>:</strong> стапка на смртност (дел од заразените што починуваат, се среќава  во литература како fatality rate)</li>
<li>$\rho$<strong>:</strong> стапката на денови за еден заразен да почине (=1/денови од заразен до смрт)</li>
</ul>
<p>На овој модел додаваме само уште една нова состојба, таа е $C(t) - $ <strong>Критични</strong> (Critical). Оваа состојба ја сочинуваат личности што им е потребна интензивна нега, овозможувајќи ни на нас да додаеме малку повеќе реалност на моделирањето со воведување на "преполовување" на болници како резултат на недостаток од ресурси. Секако во оваа состојба би транзитирале личности кои се претходно <strong>Заразени</strong>, од оваа состојба повторно тие или ќе транзитираат во <strong>Починати</strong> или во <strong>Оздравени</strong>.</p>
<p>Оваа нова поставеност подига нови прашања за кои се всушност вредностите кои овие транзиции ќе ги добијат. Ќе се обидеме да ги објасниме како ние ги разбравме. Нас ни е потребна веројатноста дека еден заразен човек ќе стане критичен случај. За да не додаваме нови имиња и ознаки на параметри за да не ни се прави гужва во равенките ние за оваа веројатност ќе користиме нотацијата: $P(I\rightarrow C)$, што е веројатноста еден <strong>заразен</strong>да транзитира во <strong>критичен</strong>.</p>
<p>Сега, имајќи ја оваа веројатност ни е потребна истотака и веројатноста дека еден <strong>критичен</strong> човек транзитира во <strong>починати</strong>, т.е. веројатноста дека некој може да почине додека е во критична здраствена состојба: $P(C\rightarrow D)$. Пропорционално на ова, според <em>правилото за одзима на веројатности</em> <a href="https://stattrek.com/probability/probability-rules.aspx#:~:text=The%20rule%20of%20subtraction%20follows,event%20A%20will%20not%20occur.&text=Based%20on%20the%20rule%20of,is%201.00%20%2D%200.80%20or%200.20.">[4]</a>:</p>
\begin{align*} \tag{Rule of Subtraction}
P(A) &amp;= 1-P(\bar{A}) 
\end{align*}<p></p>
<p>следува дека веројатноста од за транзиција од состојба <strong>заразен</strong> во состојба <strong>оздравен</strong> е:  $P(I\rightarrow R) = 1 - P(C\rightarrow D)$. Единствените бројки кои ни остануваат за дијаграмот на состојби се:</p>
<ul>
<li>стапката на луѓе кои стануваат критични (од <strong>заразени</strong> во <strong>критични</strong>)</li>
<li>стапката на луѓе кои починуваат додека се критични (од <strong>критични</strong> во <strong>починати</strong>)</li>
<li>стапката на луѓе кои оздравуваат додека се критични( од <strong>критични</strong> во <strong>оздравени</strong>)</li>
</ul>
<p>Овие рати (стапки) кружат околу интернетот, секако можеби има поточни вредности:</p>
<ul>
<li>Бројот на денови од <strong>заразен во критичен</strong>: 12 ( &#x2192; стапка: 1/12)</li>
<li>Бројот на денови од <strong>критичен во починат</strong>: 7.5 ( &#x2192; стапка: 1/7.5)</li>
<li>Бројот на денови од <strong>критичен во оздравен</strong>: 6.5 ( &#x2192; стапка: 1/6.5)</li>
</ul>
<p>Доколку го "допрошириме" моделот на транзиции од претходната фигура, се добива:</p>
<p align="center">
<img src="images\Screenshot_7.png" style="width:90%;">
</p><h2 id="&#1053;&#1077;&#1076;&#1086;&#1089;&#1090;&#1080;&#1075;-&#1085;&#1072;-&#1088;&#1077;&#1089;&#1091;&#1088;&#1089;&#1080;">&#1053;&#1077;&#1076;&#1086;&#1089;&#1090;&#1080;&#1075; &#1085;&#1072; &#1088;&#1077;&#1089;&#1091;&#1088;&#1089;&#1080;<a class="anchor-link" href="#&#1053;&#1077;&#1076;&#1086;&#1089;&#1090;&#1080;&#1075;-&#1085;&#1072;-&#1088;&#1077;&#1089;&#1091;&#1088;&#1089;&#1080;"> </a></h2><p>Како резултат на недостиг од доволно развиени алатки за мониторирање на ефектите од заштитните мерки, вклучувајќи ги социјалното дистанцирање и прогнозирањето на пандемии е од неизмерен интерес со избивањето на COVID-19 <a href="https://www.thelancet.com/article/S0140-6736(20">[5] </a>30627-9/fulltext)<a href="https://arxiv.org/abs/2003.07912">[6]</a>. Вистинските податоци се доста непрецизини (како резултат на шум) и често се оштетени од неадекватни системи на државите за системи кои точно зачувуваат податоци. Изминатите неколку месеци има голем број на трудови кои го покриваат делот како тријажата (triage) се третира во Италија и други земји и места кои беа силно погодени од вирусот, поточно доктори кои биле во ситуација да одлучуваат кои да третираат со ограничените болнички капацитети.</p>
<p>Ова може да се приклучи на нашиот претходен проширен <a href="https://zelenkastiot.github.io/COVID-19_book/04_timeDependent/subsection/4_3_age.html">SIR</a> модел на следниот начин:</p>
<p>Замислуваме дека одредена земја со $B$ кревети за интензивна нега соодведни да третираат личности кои се <strong>критични</strong> со COVID-19. Доколку има повеќе од $B$ критично болни личности (состојбата $C&gt;B$), сите луѓе што се над $B$, на пример доколку $B=500$ илјади, $C=600$ илјади, тогаш 100 илјади луѓе не се третираат поради <em>недостиг</em> на ресурси.</p>
<p>Ова значи дека $C-B$ луѓе умираат поради недостиг на ресурси. Секако обратното сценарио каде имаме поголем број на кревети од критично заразени тогаш немаме проблем со недостиг на ресурси. Ова нотациски го бележиме со $max(0, C-B)$, бидејќи кога $B&gt;C$ разликата е негативен број. На овој начин имаме $max(0, C-B)$ луѓе кои умираат поради недостиг на услови, или е 0 или е број поголем (нема логика да е негативен број). Со ова на ум сега можеме уште еднаш да ги дополниме транзициите во дијаграмот на состојби.</p>
<p>Прошируваме на следниот начин: од $C$ (<strong>критични</strong>), има две популации кои ги зимаме во предвид: $max(0, C-B)$ луѓе умираат од недостиг и останатите што се третираат. Кои се останатите? Ако $C&lt;B$ (доволно кревети), тогаш $C$ луѓе се третираат. Доколку $B&gt;C$ (недостиг кревети) тогаш $B$ луѓе се третираат. Тоа значи дека "<em>останатите</em>" - се луѓето што добиваат третман што е всушсност $min(B,C)$. Повторно доколку $C&lt;B$, минимумот е $C$ луѓе се третираат, обраниот $C&gt;B$ минумумот е $B$ луѓе се третираат.</p>
<p>Конечно доаѓаме до поправниот проширен модел (каде смрт настанува веднаш доколку дојде до недостиг, некои модели оваа веројатност ја моделираат на пр со 75% или сл.):</p>
<p align="center">
<img src="images\Screenshot_8.png" style="width:90%;">
</p><p>Овие се равенките кои соодвестуваат на овој модел:</p>
\begin{align*}
\frac{dS}{dt} &amp;= -\beta (t) \cdot I \cdot \frac{S}{N} \\
\frac{dE}{dt} &amp;= \beta (t) \cdot I \cdot \frac{S}{N} - \delta \cdot E \\
\frac{dI}{dt} &amp;= \delta \cdot E - \gamma \cdot (1-P(I\rightarrow C)) \cdot I  - \frac{1}{12} \cdot P(I\rightarrow C) \cdot I\\
\frac{dC}{dt} &amp;= \frac{1}{12} \cdot P(I\rightarrow C) \cdot I - \frac{1}{7.5} \cdot P(C\rightarrow D) \cdot min(Beds(t), C) - max(0,C-Beds(t)) - \frac{1}{6.5} \cdot (1 - P(C\rightarrow D)) \cdot min(Beds(t), C)  \\
\frac{dR}{dt} &amp;= \gamma \cdot (1 - P(I\rightarrow C)) \cdot I + \frac{1}{6.5} \cdot (1 - P(C\rightarrow D)) \cdot min(Beds(t), C)\\
\frac{dD}{dt} &amp;= \frac{1}{7.5} \cdot P(C\rightarrow D) \cdot min(Beds(t), C) + max(0, C - Beds(t))
\end{align*}<p><strong>Забелешка</strong>: Вредноста на бројот на кревети, $Beds(t)$ е функција од време</p>
<h2 id="&#1042;&#1088;&#1077;&#1084;&#1077;&#1085;&#1089;&#1082;&#1080;-&#1079;&#1072;&#1074;&#1080;&#1089;&#1085;&#1080;-&#1055;&#1088;&#1086;&#1084;&#1077;&#1085;&#1083;&#1080;&#1074;&#1080;">&#1042;&#1088;&#1077;&#1084;&#1077;&#1085;&#1089;&#1082;&#1080; &#1079;&#1072;&#1074;&#1080;&#1089;&#1085;&#1080; &#1055;&#1088;&#1086;&#1084;&#1077;&#1085;&#1083;&#1080;&#1074;&#1080;<a class="anchor-link" href="#&#1042;&#1088;&#1077;&#1084;&#1077;&#1085;&#1089;&#1082;&#1080;-&#1079;&#1072;&#1074;&#1080;&#1089;&#1085;&#1080;-&#1055;&#1088;&#1086;&#1084;&#1077;&#1085;&#1083;&#1080;&#1074;&#1080;"> </a></h2><p>За овој модел, имаме само 2 временски зависни променливи:</p>
<ul>
<li>$R_0(t)$, од која следи $\beta (t)$ од $R_0=\frac{\beta}{\gamma}$</li>
<li>$Beds(t)$ - бројот на кревети за интензивна како функција од време</li>
</ul>
<p>За $R_0$, повторно ќе ја користиме истата <a href="https://zelenkastiot.github.io/COVID-19_book/04_timeDependent/subsection/4_2_r0.html">logistic функција</a>:</p>
\begin{align*}
R_0(t) &amp;= \frac{R_{0_{start}}-R_{0_{end}}}{1+e^{-k\cdot (-x+x_0)}} + R_{0_{end}}
\end{align*}<p>Параметрите се:</p>
<ul>
<li><p>$R_{0_{start}}$ и $R_{0_{end}}$ се вредностите за $R_0$ за првиот и последниот ден</p>
</li>
<li><p>$x_0$ е вредноста на x-оска за која $R_0$ има најстрмниот пад (<strong>inflection point</strong>, може да биде "главниот" ден кога е воведен карантин)</p>
</li>
<li><p>$k$ контролира колку брзо паѓа $R_0$</p>
</li>
</ul>
<p><br> <br>
За параметарот $Beds(t)$, идејата е се додека вирусот се шири, земјите кои се на удар градат болници &#x2192; поголем број на кревети слободни. Едноставен начин за да се моделира бројот на кревети е:</p>
\begin{align*}
Beds(t) = Beds_0 + f\cdot t \cdot Beds_0
\end{align*}<p>Каде $Beds_0$ е вкупниот број на кревети на почетокот од пандемијата и $f$ е некој фактор. Според формулата бројот на кревети се зголемува фактор по иницијалниот број секој ден (пример: $s=0.5$, на ден $t=50$, вредноста на $Beds(t)=2\cdot Beds_0$)</p>

</div>
</div>
</div>
</div>

 


    </main>
    